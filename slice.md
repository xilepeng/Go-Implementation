
1. [âœ³ Array ä¸ Slice æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ](#-array-ä¸-slice-æœ‰ä»€ä¹ˆåŒºåˆ«)
1. [âœ´ Slice åŸºæœ¬æ•°æ®ç»“æ„](#-slice-åŸºæœ¬æ•°æ®ç»“æ„)
1. [âœ  åˆ›å»ºåˆ‡ç‰‡](#--åˆ›å»ºåˆ‡ç‰‡)
1. [ğŸ“  åˆ‡ç‰‡æ‰©å®¹](#--åˆ‡ç‰‡æ‰©å®¹)
1. [âœ…  åˆ‡ç‰‡æ‹·è´](#--åˆ‡ç‰‡æ‹·è´)




##  âœ³ Array ä¸ Slice æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ


1. **Slice çš„åº•å±‚æ•°æ®æ˜¯æ•°ç»„, Slice æ˜¯å¯¹åº•å±‚æ•°ç»„è¿›è¡Œäº†å°è£…ï¼Œå®ƒæè¿°ä¸€ä¸ªæ•°ç»„çš„ç‰‡æ®µã€‚**
ä¸¤è€…éƒ½å¯ä»¥é€šè¿‡ä¸‹æ ‡æ¥è®¿é—®å•ä¸ªå…ƒç´ ã€‚

2. **æ•°ç»„æ˜¯å®šé•¿çš„**ï¼Œé•¿åº¦å®šä¹‰å¥½ä¹‹åï¼Œä¸èƒ½å†æ›´æ”¹ã€‚åœ¨ Go ä¸­ï¼Œæ•°ç»„æ˜¯ä¸å¸¸è§çš„ï¼Œå› ä¸ºå…¶é•¿åº¦æ˜¯ç±»å‹çš„ä¸€éƒ¨åˆ†ï¼Œé™åˆ¶äº†å®ƒçš„è¡¨è¾¾èƒ½åŠ›ï¼Œæ¯”å¦‚ [3]int å’Œ [4]int å°±æ˜¯ä¸åŒçš„ç±»å‹ã€‚
**è€Œåˆ‡ç‰‡åˆ™éå¸¸çµæ´»ï¼Œå®ƒå¯ä»¥åŠ¨æ€åœ°æ‰©å®¹ã€‚åˆ‡ç‰‡çš„ç±»å‹å’Œé•¿åº¦æ— å…³ã€‚**

3. **Array æ˜¯å€¼ç±»å‹**ï¼Œèµ‹å€¼å’Œå‡½æ•°ä¼ å‚æ“ä½œéƒ½ä¼šå¤åˆ¶æ•´ä¸ªæ•°ç»„æ•°æ®ã€‚
**åœ¨å‡½æ•°é—´ä¼ é€’åˆ‡ç‰‡å°±æ˜¯è¦åœ¨å‡½æ•°é—´ä»¥å€¼çš„æ–¹å¼ä¼ é€’åˆ‡ç‰‡ã€‚ç”±äºåˆ‡ç‰‡çš„å°ºå¯¸å¾ˆå°ï¼Œåœ¨å‡½æ•°é—´å¤åˆ¶å’Œä¼ é€’åˆ‡ç‰‡æˆæœ¬ä¹Ÿå¾ˆä½ã€‚**

4. Array æ˜¯ä¸€ç‰‡è¿ç»­çš„å†…å­˜ï¼Œ è€Œ Slice å®é™…ä¸Šæ˜¯ä¸€ä¸ªç»“æ„ä½“ï¼ŒåŒ…å«ä¸‰ä¸ªå­—æ®µï¼šåº•å±‚æ•°ç»„ã€é•¿åº¦ã€å®¹é‡ã€‚






```go
package main

import "fmt"

func main() {
	Array1 := [5]int{}
	Array2 := [2]int{}
	fmt.Printf("Array1 çš„æ•°æ®ç±»å‹ï¼š%T\nArray2 çš„æ•°æ®ç±»å‹ï¼š%T\n", Array1, Array2)
}

```

æ‰“å°ç»“æœï¼š

```go
Array1 çš„æ•°æ®ç±»å‹ï¼š[5]int
Array2 çš„æ•°æ®ç±»å‹ï¼š[2]int
```




```go
package main

import "fmt"

func main() {
	arrayA := [2]int{100, 200}
	var arrayB [2]int

	arrayB = arrayA

	fmt.Printf("arrayA : %p , %v\n", &arrayA, arrayA)
	fmt.Printf("arrayB : %p , %v\n", &arrayB, arrayB)

	testArray(arrayA)
}

func testArray(x [2]int) {
	fmt.Printf("func Array : %p , %v\n", &x, x)
}

```


æ‰“å°ç»“æœï¼š

```go
arrayA : 0xc00012a010 , [100 200]
arrayB : 0xc00012a020 , [100 200]
func Array : 0xc00012a060 , [100 200]
```



## âœ´ Slice åŸºæœ¬æ•°æ®ç»“æ„


ä»¥ä¸‹ä»£ç åŸºäº Go 1.17

 slice çš„åº•å±‚æºç å’Œç›¸å…³å®ç°åœ¨ src/runtime/slice.go

```go
type slice struct {
	array unsafe.Pointer
	len   int
	cap   int
}
```

![](images/slice.png)
 
![](images/s0.png)











## âœ  åˆ›å»ºåˆ‡ç‰‡


**nil åˆ‡ç‰‡**

```go
	var nil_slice []int
```
![](images/c1.png)


**ç©ºåˆ‡ç‰‡**

```go
	empty_slice := make([]int, 0) 
	empty_slice := []int{}
```

![](images/c2.png)

**newåˆ‡ç‰‡**

```go
	new_slice := new([]string)
```

![](images/c3.png)
![](images/c4.png)





## ğŸ“  åˆ‡ç‰‡æ‰©å®¹









```go
package main

import "fmt"

func main() {
	slice := []int{0, 1, 2, 3, 4, 5, 6, 7, 8, 9}
	s1 := slice[2:5]
	s2 := s1[2:6:7]
	fmt.Printf("s1: len=%v, cap=%v\n", len(s1), cap(s1))
	fmt.Printf("s2: len=%v, cap=%v\n", len(s2), cap(s2))

	s2 = append(s2, 100)
	s2 = append(s2, 200)
	fmt.Printf("\tæ‰©å®¹å s2: len=%v, cap=%v\n", len(s2), cap(s2))

	s1[2] = 20

	fmt.Println("slice = ", slice)
	fmt.Println("s1 = ", s1)
	fmt.Println("s2 = ", s2)

}

```

æ‰“å°ç»“æœï¼š

```go
s1: len=3, cap=8
s2: len=4, cap=5
        æ‰©å®¹å s2: len=6, cap=10
slice =  [0 1 2 3 20 5 6 7 100 9]
s1 =  [2 3 20]
s2 =  [4 5 6 7 100 200]
```

s1 ä» slice ç´¢å¼•2ï¼ˆé—­åŒºé—´ï¼‰åˆ°ç´¢å¼•5ï¼ˆå¼€åŒºé—´ï¼Œå…ƒç´ çœŸæ­£å–åˆ°ç´¢å¼•4ï¼‰ï¼Œé•¿åº¦ä¸º3ï¼Œå®¹é‡é»˜è®¤åˆ°æ•°ç»„ç»“å°¾ï¼Œä¸º8ã€‚ s2 ä» s1 çš„ç´¢å¼•2ï¼ˆé—­åŒºé—´ï¼‰åˆ°ç´¢å¼•6ï¼ˆå¼€åŒºé—´ï¼Œå…ƒç´ çœŸæ­£å–åˆ°ç´¢å¼•5ï¼‰ï¼Œ**å®¹é‡åˆ°ç´¢å¼•7ï¼ˆå¼€åŒºé—´ï¼ŒçœŸæ­£åˆ°ç´¢å¼•6ï¼‰ï¼Œcapä¸º5**

![](images/s1.png)

å‘ s2 å°¾éƒ¨è¿½åŠ ä¸€ä¸ªå…ƒç´  100ï¼š

```go
s2 = append(s2, 100)
```
s2 å®¹é‡åˆšå¥½å¤Ÿï¼Œç›´æ¥è¿½åŠ ã€‚ä¸è¿‡ï¼Œè¿™ä¼šä¿®æ”¹åŸå§‹æ•°ç»„å¯¹åº”ä½ç½®çš„å…ƒç´ ã€‚è¿™ä¸€æ”¹åŠ¨ï¼Œæ•°ç»„å’Œ s1 éƒ½å¯ä»¥çœ‹å¾—åˆ°ã€‚


![](images/s2.png)

å‘ s2 è¿½åŠ å…ƒç´ 200ï¼š

```go
s2 = append(s2, 200)
```

s2 çš„å®¹é‡ä¸å¤Ÿç”¨ï¼Œè¯¥æ‰©å®¹äº†ã€‚äºæ˜¯ï¼Œs2 å¦èµ·ç‚‰ç¶ï¼Œå°†åŸæ¥çš„å…ƒç´ å¤åˆ¶æ–°çš„ä½ç½®ï¼Œæ‰©å¤§è‡ªå·±çš„å®¹é‡ã€‚å¹¶ä¸”ä¸ºäº†åº”å¯¹æœªæ¥å¯èƒ½çš„ append å¸¦æ¥çš„å†ä¸€æ¬¡æ‰©å®¹ï¼Œs2 ä¼šåœ¨æ­¤æ¬¡æ‰©å®¹çš„æ—¶å€™å¤šç•™ä¸€äº› bufferï¼Œå°†æ–°çš„å®¹é‡å°†æ‰©å¤§ä¸ºåŸå§‹å®¹é‡çš„2å€ï¼Œä¹Ÿå°±æ˜¯10äº†ã€‚

![](images/s3.png)

æœ€åï¼Œä¿®æ”¹ s1 ç´¢å¼•ä¸º2ä½ç½®çš„å…ƒç´ ï¼š

```go
s1[2] = 20
```

è¿™æ¬¡åªä¼šå½±å“åŸå§‹æ•°ç»„ç›¸åº”ä½ç½®çš„å…ƒç´ ã€‚å®ƒå½±å“ä¸åˆ° s2 ã€‚

![](images/s4.png)

æ‰“å° s1 çš„æ—¶å€™ï¼Œåªä¼šæ‰“å°å‡º s1 é•¿åº¦ä»¥å†…çš„å…ƒç´ ã€‚æ‰€ä»¥ï¼Œåªä¼šæ‰“å°å‡º3ä¸ªå…ƒç´ ï¼Œè™½ç„¶å®ƒçš„åº•å±‚æ•°ç»„ä¸æ­¢3ä¸ªå…ƒç´ ã€‚








## âœ…  åˆ‡ç‰‡æ‹·è´








Referenceï¼š
ã€ŠGo in actionã€‹
ã€ŠGo è¯­è¨€å­¦ä¹ ç¬”è®°ã€‹